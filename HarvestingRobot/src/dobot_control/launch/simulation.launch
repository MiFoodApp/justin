<?xml version="1.0" encoding="utf-8"?>
<!-- Launch a gazebo world-->
<launch>

    <!-- arguments for the urdf xacro file, rviz visualization and namespace -->
    <arg name="model" default="$(find realsense2_description)/urdf/test_d435_camera.urdf.xacro"/>
    <param name="robot_description" command="$(find xacro)/xacro --inorder $(arg model) use_nominal_extrinsics:=true add_plug:=true" />

    <arg name="gui" default="True" />
    <param name="use_gui" value="$(arg gui)" />
    <node name="rviz" pkg="rviz" type="rviz" args="-d $(find realsense2_description)/rviz/urdf.rviz" required="true" />
    <!-- The name of the parameter under which the URDF is loaded -->
    <arg name="robot_description" default="robot_description"/>

    <include file="$(find dobot_gazebo)/launch/gazebo.launch">
        <arg name="world" value=""/>
        <arg name="model" value="$(arg model)" />
    </include>
    <node name="tf_footprint_base" pkg="tf" type="static_transform_publisher" args="0 0 3 0 1.57 0 base_link camera_frame 40" />
    <node pkg="tf" type="static_transform_publisher" name="gripper_middle_point" args="0 0 0.1 0 0 0 base_link_gripper gripper_touch_pnt 30" />
    <include file="$(find dobot_control)/launch/robot_state_publisher.launch">
    </include>
    <!-- include file="$(find realsense2_description)/launch/view_d435_model_rviz_gazebo.launch">
    </include -->
    <!-- Load updated joint limits (override information from URDF) -->
    <group ns="$(arg robot_description)_planning">
        <rosparam command="load" file="$(find nova5_moveit)/config/joint_limits.yaml"/>
        <rosparam command="load" file="$(find nova5_moveit)/config/cartesian_limits.yaml"/>
    </group>

</launch>
